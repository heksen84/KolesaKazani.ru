https://serveradmin.ru/obnovlenie-php-7-2-do-php-7-4-v-centos-8/

X
Используешь Telegram? Подпишись на канал автора → посмотреть

Поищем
ГлавнаяКарта сайтаЗаказать статьюБлагодарностьЧатРекламаWebPageTestКонтактыУслуги

Поищем
Системное администрирование

 
ГлавнаяФорумСистемыСервисыВиртуализацияMikrotikМониторингAsterisk1CОсторожно, вирус!СоветыОшибкиРазное
Home » Linux » CentOS » Обновление php 7.2 до php 7.4 в Centos 8
Обновление php 7.2 до php 7.4 в Centos 8
Zerox Обновлено: 08.05.2020 CentOS, Linux 5 комментариев 2,771 Просмотры

Аудиоплеер

00:00
00:32

Используйте клавиши вверх/вниз, чтобы увеличить или уменьшить громкость.
Не прошло и пол года, как дефолтная версия php 7.2 в стандартных репозиториях Centos слегка устарела и хочется чего-то новее. Недолго музыка играла :) Продолжаем бесконечную возню с устаревшими пакетами из стандартных репозиториев. Я перевел сайты wordpress с 7.2 на 7.4 и без тестов заметил значительный прирост производительности.

Если у вас есть желание научиться строить и поддерживать высокодоступные и надежные системы, рекомендую познакомиться с онлайн-курсом «DevOps практики и инструменты» в OTUS. Курс не для новичков, для поступления нужно пройти вступительный тест.

Содержание
Введение
Пошаговая инструкция (How-to)
Заключение
Помогла статья? Подписывайся на telegram канал автора
Введение

 
Ускорение от обновления версии php с 7.2 до 7.4 я заметил в первую очередь в админке сайтов, так как провожу там достаточно много времени. Из-за того, что там ничего не кэшируется, а сам wordpress не очень расторопен, тормоза заметны. И их стало заметно меньше, что видно невооруженным глазом, так что советую попробовать обновление php.

У меня есть статьи про настройку web сервера centos на базе nginx и apache. На момент их написания в стандартных репозиториях Centos была версия php 7.2, которая на тот момент была наиболее актуальной и поддерживаемой большинством движков. Сейчас ситуация изменилась и я бы советовал ставить версию 7.4.

Пошаговая инструкция (How-to)
Необходимое время: 10 минут.

Итак, начинаем обновление php с 7.2 до 7.4 на Centos 8.

Проверим текущую версию php.
# php -v
PHP 7.2.11 (cli) (built: Oct 9 2018 15:09:36) ( NTS )
Проверка версии php в консоли centos

Подключаем репозиторий remi.
# dnf install https://rpms.remirepo.net/enterprise/remi-release-8.rpm
Подключение репозитория remi

Отключаем текущий модуль php:7.2.
# dnf module reset php:7.2
Отключение модуля php:7.2

Активируем модуль php:remi-7.4.
# dnf module enable php:remi-7.4
Активация модуля php:remi-7.4

Проверяем список модулей php.
# dnf module list php
Список модулей php

Запускаем обновление php 7.2 до 7.4
# dnf update
Обновление php 7.2 до 7.4 в Centos 8

Установка php дополнений для wordpress.
На всякий случай привожу список всех пакетов, которые необходимы для сайтов wordpress. Если у вас что-то не было раньше установлено, доустановится. Например, я не всегда ставлю imagick, так как он тянет за собой кучу зависимостей. Но все же лучше поставить, так как пакет пригодится для многих плагинов оптимизации изображений.
# dnf install php-dom php-simplexml php-ssh2 php-xml php-xmlreader php-curl php-date php-exif php-filter php-ftp php-gd php-hash php-iconv php-json php-libxml php-pecl-imagick php-mbstring php-mysqlnd php-openssl php-pcre php-posix php-sockets php-spl php-tokenizer php-zlib
Установка php расширений для wordpress

Проверяем новую версию php.
Если вы обновляетесь с версии 7.2, то ничего дополнительно настраивать не надо. Все старые конфиги актуальны.
# php -v
Проверка версии php после обновления

Теперь можно сходить в админку WordPress и посмотреть там на версию php.

Проверка версии php в wordpress
Заключение

Не понравилась статья и хочешь научить меня администрировать? Пожалуйста, я люблю учиться. Комментарии в твоем распоряжении. Расскажи, как сделать правильно!
Такая простая инструкция по обновлению php получилась. Экспериментальный для меня формат статьи в виде how-to. Минимум слов, максимум настройки. Думаю, что буду периодически делать такие краткие заметки для рутинных операций, где достаточно простого копипаста.

Онлайн курсы по Mikrotik
Если у вас есть желание научиться работать с роутерами микротик и стать специалистом в этой области, рекомендую пройти курсы по программе, основанной на информации из официального курса MikroTik Certified Network Associate. Помимо официальной программы, в курсах будут лабораторные работы, в которых вы на практике сможете проверить и закрепить полученные знания. Все подробности на сайте Курсы по ИТ. Стоимость обучения весьма демократична, хорошая возможность получить новые знания в актуальной на сегодняшний день предметной области. Особенности курсов:
Знания, ориентированные на практику;
Реальные ситуации и задачи;
Лучшее из международных программ.
Помогла статья? Подписывайся на telegram канал автора
Анонсы всех статей, плюс много другой полезной и интересной информации, которая не попадает на сайт. Скачать pdf
Tags CENTOS PHP WEBSERVER


Автор Zerox
Zerox
Владимир, системный администратор, автор сайта. Люблю настраивать сервера, изучать что-то новое, делиться знаниями, писать интересные и полезные статьи. Открыт к диалогу и сотрудничеству.
Предыдущая
Удаленный доступ сотрудников и HelpDesk с помощью Veliam
Следующая
Несколько Zabbix серверов в одном Grafana Dashboard
5 комментариев
Аватар
irmaseo.ru18.06.2020 at 08:46
Спасибо, очень полезная информация

Ответить
Аватар
Александр17.06.2020 at 18:05
Статью бы дополнить установкой нескольких версий php на CentOS 8, не нашёл в интернете мануала на эту систему.

Ответить
Zerox
Zerox17.06.2020 at 19:11
Лично я бы не стал морочиться с несколькими версиями php на сервере, а использовал бы docker для этого.

Ответить
Аватар
seoonly.ru08.06.2020 at 10:28
Спасибо, обновился, все ок-)

Ответить
Аватар
Denis29.05.2020 at 10:25
Где то руганулся на это
==================
PHP Warning: "continue" targeting switch is equivalent to "break". Did you mean to use "continue 2"? in /usr/share/pear/PEAR/PackageFile/v2/Validator.php on line 1933
PHP Warning: "continue" targeting switch is equivalent to "break". Did you mean to use "continue 2"? in /usr/share/pear/PEAR/PackageFile/v2/Validator.php on line 1933
PHP Warning: "continue" targeting switch is equivalent to "break". Did you mean to use "continue 2"? in /usr/share/pear/PEAR/PackageFile/v2/Validator.php on line 1933
==============

Ответить
Добавить комментарий
Ваш адрес email не будет опубликован.

Комментарий

Имя

Email

Сайт

Подписка на новые комментарии:

Отправить уведомление только при ответе на мой комментарий

Нажимая кнопку "Отправить комментарий" Я даю согласие на обработку персональных данных.

 
Selectel	Дешевые дедики от Selectel, есть посуточная оплата. Использую сам.
Ссылки
Telegram канал	Админский канал: t.me/srv_admin
Telegram чат	Админский чат: t.me/srv_admins
Youtube канал	Мой канал: youtube.com/user/zeroxzed

 

 
Группа Вконтакте
	Системное администрирование

Анонс статей (без спама)
E-mail
 
Прикольная игра
Игра Системный администратор
Популярное

Как настроить микротик routerboard RB951G-2HnD
Написано: 21.11.2018 904,066
Настройка CentOS
CentOS 7 и 8 настройка сервера после установки
Написано: 05.10.2019 612,938

Сетевые настройки в CentOS 8, 7
Написано: 17.10.2019 605,035

Asterisk - SIP АТС для офиса, пошаговая инструкция по настройке с нуля
Написано: 03.03.2020 427,279

Настройка iptables в CentOS 7
Написано: 18.10.2015 338,178

 
Вход/Регистрация
Username

••••••••

  Remember Me
Регистрация
Lost your password?
Статистика
Яндекс.Метрика
Соглашение
Политика конфиденциальности
Свежие записи
Установка и настройка OnlyOffice
Установка и настройка Onlyoffice
Написано: 07.11.2020
Zabbix 5.0 upgrade to 5.2
Обновление Zabbix 5.0 до 5.2
Написано: 29.10.2020
Доступ к Mikrotik через Winbox
Подключение к Микротику через Winbox
Написано: 22.10.2020
Проектирование ИТ структуры офиса
Построение ИТ инфраструктуры небольшого офиса
Написано: 19.10.2020
Как правильно выбрать хостинг провайдера
Как правильно выбрать хостинг провайдера
Написано: 13.10.2020
Комментарии
АватарЯрослав: Там есть экспорт из Evernote в OneNote...
ZeroxZerox: А в России принято писать "на Украине". И это вы пришли ко мне в гости. Может бу...
Аватарbammbr: К разделу "Ограничение доступа ssh по группам и пользователям домена". Не получи...
АватарAll_in: Оно ломится в директорию которой нет, создай директорию template_c в "/var/www/h...
АватарGriF: Добрый день. А можно ссылку на новую сборку. Старые файлы на яндекс диске не най...

 
